<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.8.0">
  <bpmn:collaboration id="Collaboration_0xt4yv5">
    <bpmn:participant id="Participant_orderProcess" name="Order Process" processRef="orderProcess" />
  </bpmn:collaboration>
  <bpmn:process id="orderProcess" name="Order Process" isExecutable="true" camunda:versionTag="1.0">
    <bpmn:laneSet>
      <bpmn:lane id="Lane_0eeq75g" name="System">
        <bpmn:flowNodeRef>Task_recieveShipping</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_1acclic</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_cancleOrder</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_createOrder</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_success</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_180uezo" name="User">
        <bpmn:flowNodeRef>Task_confirmOrder</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>SubProcess_1uw46a9</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>BoundaryEvent_paymentOverdue</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>BoundaryEvent_cancel</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="SequenceFlow_0oi0eua" sourceRef="Task_confirmOrder" targetRef="Task_createOrder" />
    <bpmn:sequenceFlow id="SequenceFlow_14ui5w6" sourceRef="StartEvent_1" targetRef="Task_confirmOrder" />
    <bpmn:sequenceFlow id="SequenceFlow_0to5ob0" sourceRef="Task_createOrder" targetRef="SubProcess_1uw46a9" />
    <bpmn:userTask id="Task_confirmOrder" name="Confirm Order Placement">
      <bpmn:incoming>SequenceFlow_14ui5w6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0oi0eua</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:startEvent id="StartEvent_1" name="Check in">
      <bpmn:outgoing>SequenceFlow_14ui5w6</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1mn647h" sourceRef="Task_cancleOrder" targetRef="EndEvent_1acclic" />
    <bpmn:sequenceFlow id="SequenceFlow_1pkgv80" sourceRef="SubProcess_1uw46a9" targetRef="Task_recieveShipping" />
    <bpmn:receiveTask id="Task_recieveShipping" name="Recieve shipping" messageRef="Message_0ceszqx">
      <bpmn:incoming>SequenceFlow_1pkgv80</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0rv4cgu</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:sequenceFlow id="SequenceFlow_0nb3hxi" sourceRef="BoundaryEvent_paymentOverdue" targetRef="Task_cancleOrder" />
    <bpmn:endEvent id="EndEvent_1acclic" name="Cancelled">
      <bpmn:incoming>SequenceFlow_1mn647h</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sendTask id="Task_cancleOrder" name="Cancel Order" camunda:delegateExpression="${canceOrder}">
      <bpmn:incoming>SequenceFlow_0nb3hxi</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0zbvvsb</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1mn647h</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="SequenceFlow_0zbvvsb" sourceRef="BoundaryEvent_cancel" targetRef="Task_cancleOrder" />
    <bpmn:sequenceFlow id="SequenceFlow_0rv4cgu" sourceRef="Task_recieveShipping" targetRef="EndEvent_success" />
    <bpmn:serviceTask id="Task_createOrder" name="Create Order" camunda:delegateExpression="${createOrder}">
      <bpmn:incoming>SequenceFlow_0oi0eua</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0to5ob0</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:transaction id="SubProcess_1uw46a9">
      <bpmn:incoming>SequenceFlow_0to5ob0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pkgv80</bpmn:outgoing>
      <bpmn:userTask id="Task_provideAddressData" name="Provide Address/Invoicing Data">
        <bpmn:incoming>SequenceFlow_19mtvha</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0irswlu</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Task_choosePaymentMethod" name="Choose Payment Method">
        <bpmn:incoming>SequenceFlow_0irswlu</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_023fx4b</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_0irswlu" sourceRef="Task_provideAddressData" targetRef="Task_choosePaymentMethod" />
      <bpmn:receiveTask id="Task_recievePayment" name="Recieve payment" messageRef="Message_1g6ak2f">
        <bpmn:incoming>SequenceFlow_023fx4b</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0slp355</bpmn:outgoing>
      </bpmn:receiveTask>
      <bpmn:sequenceFlow id="SequenceFlow_023fx4b" sourceRef="Task_choosePaymentMethod" targetRef="Task_recievePayment" />
      <bpmn:startEvent id="StartEvent_0veah6i">
        <bpmn:outgoing>SequenceFlow_19mtvha</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="SequenceFlow_19mtvha" sourceRef="StartEvent_0veah6i" targetRef="Task_provideAddressData" />
      <bpmn:endEvent id="EndEvent_010d1ip">
        <bpmn:incoming>SequenceFlow_0slp355</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0slp355" sourceRef="Task_recievePayment" targetRef="EndEvent_010d1ip" />
    </bpmn:transaction>
    <bpmn:boundaryEvent id="BoundaryEvent_paymentOverdue" name="Payment overdue" attachedToRef="SubProcess_1uw46a9">
      <bpmn:outgoing>SequenceFlow_0nb3hxi</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT15M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="BoundaryEvent_cancel" name="Cancel" attachedToRef="SubProcess_1uw46a9">
      <bpmn:outgoing>SequenceFlow_0zbvvsb</bpmn:outgoing>
      <bpmn:cancelEventDefinition />
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="EndEvent_success" name="Shipped">
      <bpmn:incoming>SequenceFlow_0rv4cgu</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:message id="Message_1g6ak2f" name="PAYMENT_RCV" />
  <bpmn:message id="Message_0ceszqx" name="SHIPPING_BOOKED" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0xt4yv5">
      <bpmndi:BPMNShape id="Participant_0aw9mk8_di" bpmnElement="Participant_orderProcess">
        <dc:Bounds x="128" y="-44" width="923" height="394" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="193" y="19" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="190" y="55" width="43" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0irswlu_di" bpmnElement="SequenceFlow_0irswlu">
        <di:waypoint xsi:type="dc:Point" x="621" y="35" />
        <di:waypoint xsi:type="dc:Point" x="663" y="35" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="642" y="13.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_09j9lww_di" bpmnElement="Task_confirmOrder">
        <dc:Bounds x="250" y="-3" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_075ox29_di" bpmnElement="Task_provideAddressData">
        <dc:Bounds x="521" y="-5" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1acfudo_di" bpmnElement="Task_choosePaymentMethod">
        <dc:Bounds x="663" y="-5" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Transaction_02977y4_di" bpmnElement="SubProcess_1uw46a9" isExpanded="true">
        <dc:Bounds x="426" y="-26" width="551" height="125" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1uz2guw_di" bpmnElement="BoundaryEvent_paymentOverdue">
        <dc:Bounds x="929" y="81" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="921" y="118" width="87" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1sk45l6_di" bpmnElement="BoundaryEvent_cancel">
        <dc:Bounds x="813" y="81" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="816" y="120" width="35" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0oi0eua_di" bpmnElement="SequenceFlow_0oi0eua">
        <di:waypoint xsi:type="dc:Point" x="300" y="77" />
        <di:waypoint xsi:type="dc:Point" x="300" y="194" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="315" y="129" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Lane_0eeq75g_di" bpmnElement="Lane_0eeq75g">
        <dc:Bounds x="158" y="150" width="893" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_180uezo_di" bpmnElement="Lane_180uezo">
        <dc:Bounds x="158" y="-44" width="893" height="194" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_14ui5w6_di" bpmnElement="SequenceFlow_14ui5w6">
        <di:waypoint xsi:type="dc:Point" x="229" y="37" />
        <di:waypoint xsi:type="dc:Point" x="250" y="37" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="239.5" y="15.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0to5ob0_di" bpmnElement="SequenceFlow_0to5ob0">
        <di:waypoint xsi:type="dc:Point" x="320" y="194" />
        <di:waypoint xsi:type="dc:Point" x="399" y="37" />
        <di:waypoint xsi:type="dc:Point" x="426" y="37" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="359.5" y="94" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1acclic_di" bpmnElement="EndEvent_1acclic">
        <dc:Bounds x="993.865" y="216" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="988" y="255" width="49" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1mn647h_di" bpmnElement="SequenceFlow_1mn647h">
        <di:waypoint xsi:type="dc:Point" x="968" y="234" />
        <di:waypoint xsi:type="dc:Point" x="994" y="234" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="981" y="212.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_0u3nhh2_di" bpmnElement="Task_cancleOrder">
        <dc:Bounds x="868" y="194" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ReceiveTask_1ol79vp_di" bpmnElement="Task_recieveShipping">
        <dc:Bounds x="585" y="194" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ReceiveTask_01zg4tg_di" bpmnElement="Task_recievePayment">
        <dc:Bounds x="801" y="-5" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_023fx4b_di" bpmnElement="SequenceFlow_023fx4b">
        <di:waypoint xsi:type="dc:Point" x="763" y="35" />
        <di:waypoint xsi:type="dc:Point" x="801" y="35" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="782" y="13.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1pkgv80_di" bpmnElement="SequenceFlow_1pkgv80">
        <di:waypoint xsi:type="dc:Point" x="702" y="99" />
        <di:waypoint xsi:type="dc:Point" x="702" y="166" />
        <di:waypoint xsi:type="dc:Point" x="635" y="166" />
        <di:waypoint xsi:type="dc:Point" x="635" y="194" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="668.5" y="144.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0nb3hxi_di" bpmnElement="SequenceFlow_0nb3hxi">
        <di:waypoint xsi:type="dc:Point" x="931" y="108" />
        <di:waypoint xsi:type="dc:Point" x="918" y="116" />
        <di:waypoint xsi:type="dc:Point" x="918" y="194" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="924.5" y="90.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0zbvvsb_di" bpmnElement="SequenceFlow_0zbvvsb">
        <di:waypoint xsi:type="dc:Point" x="844" y="110" />
        <di:waypoint xsi:type="dc:Point" x="854" y="118" />
        <di:waypoint xsi:type="dc:Point" x="889" y="118" />
        <di:waypoint xsi:type="dc:Point" x="889" y="194" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="871.5" y="96.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1g6u8tl_di" bpmnElement="EndEvent_success">
        <dc:Bounds x="754.865" y="215.817" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="753" y="255" width="41" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0rv4cgu_di" bpmnElement="SequenceFlow_0rv4cgu">
        <di:waypoint xsi:type="dc:Point" x="685" y="234" />
        <di:waypoint xsi:type="dc:Point" x="719" y="234" />
        <di:waypoint xsi:type="dc:Point" x="719" y="234" />
        <di:waypoint xsi:type="dc:Point" x="755" y="234" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="734" y="227.5" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1p6wat4_di" bpmnElement="Task_createOrder">
        <dc:Bounds x="250" y="194" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0veah6i_di" bpmnElement="StartEvent_0veah6i">
        <dc:Bounds x="445.865" y="17" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="463.865" y="56" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_19mtvha_di" bpmnElement="SequenceFlow_19mtvha">
        <di:waypoint xsi:type="dc:Point" x="482" y="35" />
        <di:waypoint xsi:type="dc:Point" x="521" y="35" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="501.5" y="13" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_010d1ip_di" bpmnElement="EndEvent_010d1ip">
        <dc:Bounds x="920.865" y="17" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="938.865" y="56" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0slp355_di" bpmnElement="SequenceFlow_0slp355">
        <di:waypoint xsi:type="dc:Point" x="901" y="35" />
        <di:waypoint xsi:type="dc:Point" x="921" y="35" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="911" y="13" width="0" height="13" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
